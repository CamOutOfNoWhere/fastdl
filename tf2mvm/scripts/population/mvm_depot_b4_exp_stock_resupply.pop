#base robot_standard.pop
#base robot_giant.pop
#base robot_damno.pop
#base robot_gatebot.pop

//Mission Made by DaMno
//Thanks for those who gave feedback and helped me balance it better

WaveSchedule
{
    StartingCurrency 1000
    RespawnWaveTime 5
    CanBotsAttackWhileInSpawnRoom no
    AddSentryBusterWhenDamageDealtExceeds 3000
    AddSentryBusterWhenKillCountExceeds 15

    //spawnbot_1
    //spawnbot_2
    //flankers_1
    //flankers_2
    //tank_path_a_1
    //spawnbot_mission_sniper_1
    //spawnbot_mission_sniper_2

    Mission // Sentry Buster
    {
        Objective DestroySentries
        Where flankers_1
        Where flankers_2
        BeginAtWave 1
        RunForThisManyWaves 7
        InitialCooldown 40
        CooldownTime 35
        DesiredCount 1
        TFBot
        {
            Template T_TFBot_SentryBuster
            tag bot_giant
        }
    }
    Mission // Spy
    {
        Objective Spy
        Where spawnbot_mission_spy_1
        Where spawnbot_mission_spy_2
        BeginAtWave 2
        RunForThisManyWaves 1
        InitialCooldown 35
        CooldownTime 25
        DesiredCount 2
        TFBot
        {
            Template T_TFBot_Spy
        }
    }
    Mission // Spy
    {
        Objective Spy
        Where spawnbot_mission_spy_1
        Where spawnbot_mission_spy_2
        BeginAtWave 6
        RunForThisManyWaves 1
        InitialCooldown 40
        CooldownTime 25
        DesiredCount 3
        TFBot
        {
            Template T_TFBot_Spy
        }
    }
    Mission // Sniper
    {
        Objective Spy
        Where spawnbot_mission_sniper_1
        Where spawnbot_mission_sniper_2
        BeginAtWave 4
        RunForThisManyWaves 1
        InitialCooldown 35
        CooldownTime 25
        DesiredCount 2
        TFBot
        {
            Template T_TFBot_Sniper
            ClassIcon spy_sniper
        }
    }
        Mission // Spy
    {
        Objective Spy
        Where spawnbot_mission_spy_1
        Where spawnbot_mission_spy_2
        BeginAtWave 4
        RunForThisManyWaves 1
        InitialCooldown 40
        CooldownTime 25
        DesiredCount 3
        TFBot
        {
            Template T_TFBot_Spy
            ClassIcon spy_sniper
        }
    }
    Templates
    {
        T_TFBot_Chief_Captain
        {
            Class Soldier
            ClassIcon soldier_chief_tc_blu
            Attributes MiniBoss
            WeaponRestrictions PrimaryOnly
            Name "Giant Chief BLU Captain"
            Attributes holdfireuntilfullreload
            Item "The Team Captain"
            Item "Kringle Collection"
            Skill Expert
            Health 68000
            Attributes UseBossHealthBar
            ItemAttributes
            {
                ItemName "tf_weapon_rocketlauncher"
                "Projectile speed increased" 0.4
                "dmg bonus vs buildings" 3
                "damage bonus" 1.75
                "Reload time decreased" 0.1
                "clip size upgrade atomic" 35
                "fire rate bonus" 0.03
                "projectile spread angle penalty" 10
            }                
            CharacterAttributes
            {
                "move speed bonus"	0.5
                "rage giving scale" 0.2
                "damage force reduction" 0.4
                "airblast vulnerability multiplier" 0.4
                "override footstep sound set" 3
            }
        }
        T_TFBot_Medic_Vaccinator_Bullet
        {
            Name "Bullet Vaccinator Medic"
            Class Medic
            Skill Expert
            ClassIcon medic_vacc_trio 
            WeaponRestrictions SecondaryOnly
            Attributes SpawnWithFullCharge
            ItemAttributes
            {
                ItemName "TF_WEAPON_MEDIGUN"
                "lunchbox adds minicrits" 3 
                "medigun bullet resist deployed" 1 
                "medigun bullet resist passive"  1 
                "medigun charge is resists" 3 
                "ubercharge rate bonus" 200
            }
            CharacterAttributes
            {
                "bot medic uber health threshold" -1
            }
        }
        T_TFBot_Medic_Vaccinator_Blast
        {
            Name "Blast Vaccinator Medic"
            Class Medic
            Skill Expert
            ClassIcon medic_vacc_trio //custom icon
            WeaponRestrictions SecondaryOnly
            Attributes SpawnWithFullCharge
            ItemAttributes
            {
                ItemName "TF_WEAPON_MEDIGUN"
                "lunchbox adds minicrits" 3 //overrides Medigun traits with Vaccinator traits such as healing sound and multiple ubers
                "medigun bullet resist deployed" 1 // Percentage : 1 = 100%
                "medigun bullet resist passive"  1 // Percentage : 1 = 100%
                "medigun charge is resists" 4 //3 for bullet, 4 for blast, 5 for fire
                "ubercharge rate bonus" 200
            }
            CharacterAttributes
            {
                "bot medic uber health threshold" -1 // deploys Vaccinator Übercharge immediately
            }
        }
         T_TFBot_Medic_Vaccinator_Fire
        {
            Name "Fire Vaccinator Medic"
            Class Medic
            Skill Expert
            ClassIcon medic_vacc_trio //custom icon
            WeaponRestrictions SecondaryOnly
            Attributes SpawnWithFullCharge
            ItemAttributes
            {
                ItemName "TF_WEAPON_MEDIGUN"
                "lunchbox adds minicrits" 3 //overrides Medigun traits with Vaccinator traits such as healing sound and multiple ubers
                "medigun bullet resist deployed" 1 // Percentage : 1 = 100%
                "medigun bullet resist passive"  1 // Percentage : 1 = 100%
                "medigun charge is resists" 5 //3 for bullet, 4 for blast, 5 for fire
                "ubercharge rate bonus" 200
            }
            CharacterAttributes
            {
                "bot medic uber health threshold" -1 // deploys Vaccinator Übercharge immediately
            }
        }
        T_TFBot_quicky_Shield
        {
            Class Medic
            Name "Quick Fix Shield Medic"
            ClassIcon medic_shield_qf
            Skill Expert
            Item "The Quick-Fix"
            WeaponRestrictions SecondaryOnly
            Attributes SpawnWithFullCharge
            Attributes ProjectileShield
            ItemAttributes
            {
                ItemName "The Quick-Fix"
                "ubercharge rate bonus"    0.1
                "generate rage on heal"    2
            }
            CharacterAttributes
            {
            "bot medic uber deploy delay duration" 900
            }
        }
    }
    Wave // Wave 1

    //gpyros waitforallspawned and expert ai with deflect
    //scouts support 1
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }

        Explanation
        {
            Line "{green}================="
            Line "{blue}You can use free overclocks at upgrade station to boost your weapons!"
            Line "{green}================="
        }

        WaveSpawn
        {
            Name 1_FoS
            Where spawnbot_1
			Where spawnbot_2
            TotalCurrency 50
            TotalCount 12
            MaxActive 12
            SpawnCount 2
            WaitBetweenSpawns 5
            WaitBeforeStarting 1
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Heavyweapons_Fist
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                }
            }
        }
        WaveSpawn
        {
            Name 1_Axe
            Where spawnbot_1
			Where spawnbot_2
            TotalCurrency 100
            TotalCount 42
            MaxActive 32
            SpawnCount 4
            WaitBetweenSpawns 3
            TFBot
            {
                ClassIcon pyro_fireaxe_lite
                Name "Axe Pyro"
                Class Pyro
                WeaponRestrictions MeleeOnly
            }
        }
        WaveSpawn
        {
            Name 1_GSoldiers
            Where spawnbot_1
			Where spawnbot_2
            TotalCurrency 100
            TotalCount 4
            MaxActive 2
            SpawnCount 1
            WaitForAllSpawned 1_FoS
            WaitBeforeStarting 2
            WaitBetweenSpawns 6
            TFBot
            {
                Class Soldier
                Name "Giant Soldier"
                ClassIcon soldier_giant
                Skill Expert
                Health 3800
                WeaponRestrictions PrimaryOnly
                Attributes HoldFireUntilFullReload
                Attributes MiniBoss
                CharacterAttributes
                {
                    "move speed bonus"	0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                }   
                tag bot_giant
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot
                        Tag bot_giant			
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Soldier"
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Soldier"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Soldier"
                            "item style override" 1
                        }
                        Skill Hard
                        MaxVisionRange 1000
                    }
                }    
            }
        }
        WaveSpawn
        {
            Name 1_Gatebots
            Where flankers_1
            Where flankers_2
            TotalCurrency 100
            TotalCount 32
            MaxActive 16
            SpawnCount 4
            WaitForAllDead 1_FoS
            WaitBeforeStarting 8
            WaitBetweenSpawns 3
            TFBot
            {
                Class Scout
                ClassIcon scout_bat_nys
                WeaponRestrictions MeleeOnly
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot 				
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Scout"
                        Skill Normal
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Scout"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Scout"
                            "item style override" 1
                        }
                        Skill Hard
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 1_GPyros
            Where spawnbot_1
			Where spawnbot_2
            TotalCurrency 100
            TotalCount 8
            MaxActive 4
            SpawnCount 2
            WaitForAllSpawned 1_GSoldiers
            WaitBeforeStarting 18
            WaitBetweenSpawns 8
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Pyro
                    Tag bot_giant
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName	"tf_weapon_flamethrower"
                        "airblast_destroy_projectile" 1
                    }
                }
                TFBot
                {
                    Template T_TFBot_Medic
                }
            }
        }
        WaveSpawn
        {
            Name 1_Support 
            Where flankers_1
            Where flankers_2
            TotalCurrency 150
            TotalCount 28
            MaxActive 14
            SpawnCount 2
            WaitForAllDead 1_GSoldiers
            WaitBeforeStarting 4
            WaitBetweenSpawns 2
            TFBot
            {
                Class Demoman
                WeaponRestrictions PrimaryOnly
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot 				
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Demoman"
                        Skill Normal
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Demoman"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Demoman"
                            "item style override" 1
                        }
                        Skill Hard
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 1_DragonFury
            Where spawnbot_1
			Where spawnbot_2
            TotalCurrency 150
            TotalCount 10
            MaxActive 10
            SpawnCount 2
            WaitForAllDead 1_GPyros
            WaitBetweenSpawns 4
            WaitBeforeStarting 2
            TFBot
            {
                Class Pyro
                Name "Dragon's Fury"
                ClassIcon pyro_dragon_fury
                WeaponRestrictions PrimaryOnly
                Item "Firewall Helmet"
                Item "The Dragon's Fury"
                MaxVisionRange 800
            }
        }
        WaveSpawn
        {
            Name 1_GAxe
            Where flankers_1
            Where flankers_2
            TotalCurrency 150
            TotalCount 4
            MaxActive 4
            SpawnCount 2
            WaitForAllDead 1_GPyros
            WaitBetweenSpawns 8
            WaitBeforeStarting 0
            Squad
            {
                TFBot
                {
                    Tag bot_giant
                    ClassIcon pyro_detonator_giant
                    Template T_TFBot_Giant_Pyro_Flare_Spammer
                }
                TFBot
                {
                    Template T_TFBot_quicky_Shield
                }
            }
        }
        WaveSpawn
        {
            Name 1_Support
            Where flankers_1
            Where flankers_2
            Support Limited
            TotalCurrency 0
            TotalCount 24
            MaxActive 8
            SpawnCount 4
            WaitForAllDead 1_GPyros
            WaitBetweenSpawns 4
            WaitBeforeStarting 6
            TFBot
            {
                Class Scout
                ClassIcon scout_bat_nys
                WeaponRestrictions MeleeOnly
            }
        }
    }
    Wave // Wave 2
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 2_GDemo
            Where spawnbot_1
			Where spawnbot_2
            TotalCurrency 150
            TotalCount 8
            MaxActive 4
            SpawnCount 4
            WaitBetweenSpawns 6
            WaitBeforeStarting 0
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Demoman
                    ClassIcon demo_spammer_giant
                    tag bot_giant
                    EventChangeAttributes
                    {
                        Default
                        {
                            Tag bot_gatebot 
                            Tag bot_giant				
                            Tag nav_prefer_gate1_flank		
                            BehaviorModifiers push			
                            Attributes IgnoreFlag 			

                            Item "MvM GateBot Light Demoman"
                            Skill Normal
                            MaxVisionRange 1000
                        }
                        RevertGateBotsBehavior
                        {
                            Item "MvM GateBot Light Demoman"
                            ItemAttributes               
                            {
                                ItemName "MvM GateBot Light Demoman"
                                "item style override" 1
                            }
                            Skill Hard
                            MaxVisionRange 1000
                        }
                    }
                }
                TFBot
                {
                    Template T_TFBot_Medic_SlowRecharge
                }
                TFBot
                {
                    Template T_TFBot_Medic_SlowRecharge
                }
                TFBot
                {
                    Template T_TFBot_Medic_SlowRecharge
                }
            }
        }
        WaveSpawn
        {
            Name 2_DemoSupport
            Where spawnbot_1
			Where spawnbot_2
            TotalCurrency 150
            TotalCount 28
            MaxActive 8
            SpawnCount 2
            WaitBetweenSpawns 3
            WaitBeforeStarting 4
            TFBot
            {
                Class Scout
                WeaponRestrictions PrimaryOnly
            }
        }
        WaveSpawn
        {
            Name 2_Tank
            TotalCurrency 100
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitForAllSpawned 2_GDemo
            WaitBeforeStarting 2
            Tank
            {
                Health 20000
                Name "Tank"
                Speed 65
                StartingPathTrackNode "boss_path_a1"
                OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
                }
            }
        }
        WaveSpawn
        {
            Name 2_MajorLeague
            TotalCurrency 100
            TotalCount 1
            MaxActive 1
            WaitBeforeStarting 12
            SpawnCount 1
            WaitForAllSpawned 2_Tank
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Scout
                Name "Major League"
                ClassIcon scout_stun_giant
                Skill Expert
                Health 8000
                //Scale 1.9
                Item "Genuine Cockfighter"
                Item "The Boston Boom-Bringer"
                Item "Summer Shades"
                Item "The Sandman"
                WeaponRestrictions MeleeOnly
                Attributes MiniBoss
                Attributes UseBossHealthBar
                ItemAttributes
                {
                    ItemName "The Sandman"
                    "effect bar recharge rate increased" 0.001
                }
                CharacterAttributes
                {
                    "move speed bonus"	8
                    "damage force reduction" 0.7
                    "airblast vulnerability multiplier" 3.0
                    "override footstep sound set" 5
                    "airblast vertical vulnerability multiplier" 0.1
                    "rage giving scale" 0.1
                }
                tag bot_giant
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot 				
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Scout"
                        Skill Normal
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Scout"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Scout"
                            "item style override" 1
                        }
                        Skill Normal
                        MaxVisionRange 1000
                    }
                }
            }
        }
        
        WaveSpawn
        {
            Name 2_Soldiers
            TotalCurrency 200
            TotalCount 20
            MaxActive 4
            SpawnCount 2
            WaitForAllSpawned 2_Tank
            WaitBeforeStarting 1
            WaitBetweenSpawns 3
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Soldier
                WeaponRestrictions PrimaryOnly
                Skill Normal
            }
        }
        WaveSpawn
        {
            Name 2_GSoldiers
            TotalCurrency 50
            TotalCount 8
            MaxActive 4
            SpawnCount 2
            WaitForAllDead 2_Tank
            WaitBeforeStarting 2
            WaitBetweenSpawns 6
            Where spawnbot_1
			Where spawnbot_2
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Soldier
                    Attributes AlwaysCrit
                    tag bot_giant
                }
                TFBot
                {
                    Template T_TFBot_Medic_BigHeal
                }
            }
        }
        WaveSpawn
        {
            Name 2_Bowmen
            TotalCurrency 50
            TotalCount 32
            MaxActive 16
            SpawnCount 4
            WaitForAllDead 2_Tank
            WaitBeforeStarting 4
            WaitBetweenSpawns 3
            Where flankers_1
            Where flankers_2
            TFBot
            {
                Template T_TFBot_Sniper_Huntsman
            }
        }
        WaveSpawn
        {
            Name 2_Pyros
            TotalCurrency 0
            TotalCount 8
            MaxActive 8
            Support Limited
            SpawnCount 1
            WaitForAllDead 2_Tank
            WaitBeforeStarting 4
            WaitBetweenSpawns 6
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Pyro
                Attributes AlwaysFireWeapon
                Skill Hard
            }
        }
    }
    Wave // Wave 3
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 3_GShotgun
            TotalCurrency 100
            TotalCount 8
            MaxActive 4
            WaitBetweenSpawns 12
            Where spawnbot_1
			Where spawnbot_2
            Squad
            {
                TFBot
                {
                    Class Heavyweapons
                    ClassIcon heavy_shotgun_burst_giant
                    Attributes MiniBoss
                    Name "Giant Burst Shotgun Heavy"
                    WeaponRestrictions SecondaryOnly
                    Health 5000
                    Attributes holdfireuntilfullreload
                    Skill Normal
                    Item "Mad Mask"
                    Tag bot_giant
                    ItemAttributes
                    {
                        ItemName "tf_weapon_shotgun_hwg"
                        "fire rate bonus" 0.2
                        "damage bonus" 1.25
                        "Reload time increased" 1.2
                    }
                    CharacterAttributes
                    {
                        "move speed bonus"	0.5
                        "damage force reduction" 0.3
                        "airblast vulnerability multiplier" 0.3
                        "override footstep sound set" 2
                    }
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name 3_Demos
            TotalCurrency 100
            TotalCount 20
            MaxActive 12
            SpawnCount 3
            WaitBetweenSpawns 4
            WaitBeforeStarting 6
            Where flankers_1
            Where flankers_2
            TFBot
            {
                Class Demoman
                Skill Hard
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot 			
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Demoman"
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Demoman"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Demoman"
                            "item style override" 1
                        }
                        Skill Hard
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 3_Pyros
            TotalCurrency 100
            TotalCount 28
            MaxActive 8
            SpawnCount 2
            WaitForAllDead 3_GShotgun
            WaitBetweenSpawns 3
            WaitBeforeStarting 6
            Where flankers_1
            Where flankers_2
            Squad
            {
                TFBot
                {
                    Attributes AlwaysCrit
                    Template T_TFBot_Sniper_Huntsman
                }
                TFBot
                {
                    Class Pyro
                    WeaponRestrictions PrimaryOnly
                    Skill Expert
                }
            }
        }
        WaveSpawn
        {
            Name 3_GSoldier
            TotalCurrency 150
            TotalCount 9
            MaxActive 6
            SpawnCount 3
            WaitForAllDead 3_GShotgun
            WaitBeforeStarting 2
            WaitBetweenSpawns 8
            Where spawnbot_1
			Where spawnbot_2
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Demoman
                    ClassIcon demo_spammer_giant
                    Attributes AlwaysCrit
                    tag bot_giant
                    ItemAttributes
                    {
                        ItemName "TF_WEAPON_GRENADELAUNCHER"
                        "faster reload rate" -0.4
                        "fire rate bonus" 0.75

                    }
                    EventChangeAttributes
                    {
                        Default
                        {
                            Tag bot_gatebot
                            Tag bot_giant			
                            Tag nav_prefer_gate1_flank		
                            BehaviorModifiers push			
                            Attributes IgnoreFlag 			

                            Item "MvM GateBot Light Demoman"
                            MaxVisionRange 1000
                        }
                        RevertGateBotsBehavior
                        {
                            Item "MvM GateBot Light Demoman"
                            ItemAttributes               
                            {
                                ItemName "MvM GateBot Light Demoman"
                                "item style override" 1
                            }
                            Skill Hard
                            MaxVisionRange 1000
                        }
                    }
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name 3_Tank
            TotalCurrency 250
            TotalCount 6
            MaxActive 6
            SpawnCount 3
            WaitForAllDead 3_GSoldier
            WaitBeforeStarting 3
            WaitBetweenSpawns 20
            Where spawnbot_1
			Where spawnbot_2
            Squad
            {
                TFBot
                {
                    Class Soldier
                    Name "Colonel Barrage"
                    ClassIcon soldier_barrage
                    Health 4000

                    Tag bot_giant
                    Skill Expert
                    WeaponRestrictions PrimaryOnly
                    Attributes MiniBoss
                    Attributes HoldFireUntilFullReload
                    ItemAttributes
                    {
                        ItemName "TF_WEAPON_ROCKETLAUNCHER"
                        "clip size upgrade atomic" 26.0
                        "faster reload rate" 0.22
                        "fire rate bonus" 0.2
                        "projectile spread angle penalty" 5
                    }
                    CharacterAttributes
                    {
                        "health regen"	40
                        "move speed bonus"	0.5
                        "damage bonus" 1.5
                        "damage force reduction" 0.4
                        "airblast vulnerability multiplier" 0.4
                        "override footstep sound set" 3
                        "airblast vertical vulnerability multiplier" 0.1			
                        "Projectile speed increased" 0.4
                    }
                    tag bot_giant
                    EventChangeAttributes
                    {
                        Default
                        {
                            Tag bot_gatebot
                            Tag bot_giant			
                            Tag nav_prefer_gate1_flank		
                            BehaviorModifiers push			
                            Attributes IgnoreFlag 			

                            Item "MvM GateBot Light Soldier"
                            MaxVisionRange 1000
                        }
                        RevertGateBotsBehavior
                        {
                            Item "MvM GateBot Light Soldier"
                            ItemAttributes               
                            {
                                ItemName "MvM GateBot Light Soldier"
                                "item style override" 1
                            }
                            Skill Hard
                            MaxVisionRange 1000
                        }   
                    }
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }

        }
        WaveSpawn
        {
            Name 3_TankSupport2
            TotalCurrency 50
            TotalCount 12
            MaxActive 12
            SpawnCount 4
            WaitForAllDead 3_GSoldier
            WaitBetweenSpawns 3
            WaitBeforeStarting 2
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Demoman
                WeaponRestrictions PrimaryOnly
            }
        }

        WaveSpawn
        {
            Name 3_TankSupport3
            TotalCurrency 50
            TotalCount 40
            Support Limited
            SpawnCount 2
            MaxActive 8
            WaitForAllDead 3_GSoldier
            WaitBeforeStarting 1
            WaitBetweenSpawns 4
            Where flankers_1
            Where flankers_2
            TFBot
            {
                Template T_TFBot_Sniper_Huntsman
                ClassIcon Sniper_bow
                Attributes AlwaysCrit
            }
        }

        WaveSpawn
        {
            Name 3_GHeavy
            TotalCurrency 100
            TotalCount 2
            MaxActive 2
            SpawnCount 1
            WaitBeforeStarting 2
            WaitForAllDead 3_Tank
            Where spawnbot_1
			Where spawnbot_2
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Heavyweapons_Deflector
                    Tag bot_giant
                }
                TFBot
                {
                    Template T_TFBot_Giant_Uber_Medic
                    Tag bot_giant
                }
            }   
        }
        WaveSpawn
        {
            Name 3_Support
            TotalCurrency 0
            TotalCount 16
            MaxActive 16
            SpawnCount 2
            Support 1
            WaitForAllDead 3_Tank
            WaitBeforeStarting 3
            WaitBetweenSpawns 4
            Where spawnbot_1
            Where spawnbot_2
            TFBot
            {
                Class Soldier
                WeaponRestrictions PrimaryOnly
            }
        }
        WaveSpawn
        {
            Name 3_Support2
            TotalCurrency 0
            TotalCount 32
            Support 1
            MaxActive 6
            SpawnCount 1
            WaitForAllSpawned 3_GHeavy
            WaitBeforeStarting 6
            WaitBetweenSpawns 3
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Demoman
                WeaponRestrictions PrimaryOnly
            }
        }
    }
    Wave // Wave 4
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 4_Tank
            TotalCurrency 100
            TotalCount 4
            SpawnCount 1
            MaxActive 2
            WaitBeforeStarting 0
            WaitBetweenSpawns 6
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Template T_TFBot_Giant_Soldier_RocketShotgun
                Attributes AlwaysCrit
                tag bot_giant
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot
                        Tag bot_giant			
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Soldier"
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Soldier"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Soldier"
                            "item style override" 1
                        }
                        Skill Hard
                        MaxVisionRange 1000
                    }
                }    
            }
        }
        WaveSpawn
        {
            Name 4_TankSupport
            TotalCurrency 50
            TotalCount 28
            SpawnCount 3
            MaxActive 9
            WaitBeforeStarting 2
            WaitBetweenSpawns 5
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Soldier
                Skill Normal
            }
        }
        WaveSpawn
        {
            Name 4_TankSupport2
            TotalCurrency 50
            Where flankers_1
            Where flankers_2
            TotalCount 36
            SpawnCount 4
            MaxActive 12
            WaitBeforeStarting 3
            WaitBetweenSpawns 4
            TFBot
            {
                Class Scout
                Skill Easy
            }
        }
        WaveSpawn
        {
            Name 4_GHeavy
            TotalCurrency 100
            TotalCount 10
            SpawnCount 5
            MaxActive 10
            WaitBeforeStarting 5
            WaitBetweenSpawns 8
            WaitForAllDead 4_Tank
            Where spawnbot_1
			Where spawnbot_2
            Squad
            {
                TFBot
                {
                    tag bot_giant
                    Class Heavyweapons
                    Name "Giant Heater Heavy"
                    ClassIcon heavy_heater_giant
                    Skill Expert
                    Health 5000
                    WeaponRestrictions PrimaryOnly
                    MaxVisionRange 1200
                    Item "The Huo Long Heatmaker"
                    Attributes MiniBoss
                    ItemAttributes
                    {
                        ItemName "The Huo Long Heatmaker"
                        "damage bonus"	1.5
                    }
                    CharacterAttributes
                    {
                        "move speed bonus"	0.5
                        "damage force reduction" 0.3
                        "airblast vulnerability multiplier" 0.3
                        "override footstep sound set" 2
                    }
                    EventChangeAttributes
                    {
                        Default
                        {
                            Tag bot_gatebot		
                            tag bot_giant		
                            Tag nav_prefer_gate1_flank		
                            BehaviorModifiers push			
                            Attributes IgnoreFlag 			

                            Item "MvM GateBot Light Heavy"
                            MaxVisionRange 1000
                        }
                        RevertGateBotsBehavior
                        {
                            Item "MvM GateBot Light Heavy"
                            ItemAttributes               
                            {
                                ItemName "MvM GateBot Light Heavy"
                                "item style override" 1
                            }
                            Skill Normal
                            MaxVisionRange 1000
                        }
                    }
                }
                TFBot
                {
                    Template T_TFBot_ScorchShot_FastShot
                    ClassIcon pyro_scorch_spammer
                }
                TFBot
                {
                    Template T_TFBot_ScorchShot_FastShot
                    ClassIcon pyro_scorch_spammer
                }
                TFBot
                {
                    Template T_TFBot_ScorchShot_FastShot
                    ClassIcon pyro_scorch_spammer
                }
                TFBot
                {
                    Template T_TFBot_ScorchShot_FastShot
                    ClassIcon pyro_scorch_spammer
                }
                
            }
        }
        WaveSpawn
        {
            Name 4_Demos
            TotalCurrency 100
            TotalCount 32
            SpawnCount 4
            MaxActive 16
            Support Limited
            WaitBeforeStarting 6
            WaitBetweenSpawns 4
            WaitForAllDead 4_TankSupport
            Where flankers_1
            Where flankers_2
            TFBot
            {
                Class Demoman
                Skill Hard
                Name "Loch-n-Load Demo"
                ClassIcon demo_loch_nys
                Item "The Loch-n-Load"
            }
        }
        WaveSpawn
        {
            Name 4_GSoldier
            TotalCurrency 100
            TotalCount 3
            SpawnCount 1
            MaxActive 3
            WaitBeforeStarting 16
            WaitBetweenSpawns 10
            WaitForAllSpawned 4_GHeavy
            Where flankers_1
			Where flankers_2
            TFBot
            {
                tag bot_giant
                Class Scout
                Name "Giant Scout"
                ClassIcon scout_giant
                Skill Expert
                Health 1600
                WeaponRestrictions PrimaryOnly
                Attributes MiniBoss
                CharacterAttributes
                {
                    "damage force reduction" 0.7
                    "airblast vulnerability multiplier" 0.7
                    "override footstep sound set" 5
                }
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot 				
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Scout"
                        Skill Normal
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Scout"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Scout"
                            "item style override" 1
                        }
                        Skill Normal
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 4_GSupport
            TotalCurrency 100
            TotalCount 24
            SpawnCount 6
            MaxActive 24
            WaitBeforeStarting 2
            WaitBetweenSpawns 5
            WaitForAllDead 4_GHeavy
            Where flankers_1
            Support Limited
			Where flankers_2
            TFBot
            {
                Attributes AlwaysCrit
                ClassIcon Sniper_Bow
                Template T_TFBot_Sniper_Huntsman
            }
        }
        WaveSpawn
        {
            Name 4_Pyros
            TotalCurrency 100
            TotalCount 4
            SpawnCount 1
            MaxActive 4
            WaitBeforeStarting 2
            WaitBetweenSpawns 10
            WaitForAllDead 4_GSoldier
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Template T_TFBot_Giant_Soldier_Spammer
                Attributes AlwaysCrit
            } 
        }
        WaveSpawn
        {
            Name 4_Heavies
            TotalCurrency 100
            TotalCount 14
            SpawnCount 2
            MaxActive 14
            WaitBeforeStarting 4
            WaitBetweenSpawns 5
            WaitForAllDead 4_GSoldier
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Heavyweapons
                Name "Burst Shotgun Heavy"
                ClassIcon heavy_shotgun_burst
                Skill Normal
                WeaponRestrictions SecondaryOnly
                ItemAttributes
                {
                    ItemName "tf_weapon_shotgun_hwg"
                    "fire rate bonus" 0.2
                    "auto fires full clip" 1
                    "auto fires when full" 1
                    "Reload time increased" 1.2 
                }

            }
        }
        WaveSpawn
        {
            Name 4_Bowmen
            TotalCurrency 0
            TotalCount 24
            SpawnCount 2
            Support 1
            MaxActive 8
            WaitBeforeStarting 6
            WaitBetweenSpawns 3
            WaitForAllDead 4_GSoldier
            Support Limited
            Where flankers_1
			Where flankers_2
            TFBot
            {
                Template T_TFBot_Sniper_Huntsman
            }
        }
    }
    Wave // Wave 5
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 5_GGauntlet
            TotalCurrency 50
            TotalCount 1
            SpawnCount 1
            MaxActive 1
            WaitBeforeStarting 4
            WaitBetweenSpawns 16
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Heavyweapons
                Attributes MiniBoss
                Attributes AlwaysCrit
                Health 7200
                ClassIcon heavy_steelfist_nys_giant
                Item "War Head"
                Name "Giant Steel Gauntlet"
                Skill Expert
                WeaponRestrictions MeleeOnly
                Item "Fists of Steel"
                ItemAttributes
                {
                    ItemName "tf_weapon_fists"
                    "damage bonus" 1.5
                    "heal on kill" 500
                }
                CharacterAttributes
                {
                    "move speed bonus"	0.5
                    "damage force reduction" 0.3
                    "airblast vulnerability multiplier" 0.3
                    "override footstep sound set" 2
                }
                tag bot_giant
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot		
                        tag bot_giant		
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Heavy"
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Heavy"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Heavy"
                            "item style override" 1
                        }
                        Skill Normal
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 5_SteelSupport
            TotalCurrency 50
            TotalCount 26
            SpawnCount 4
            MaxActive 26
            WaitBeforeStarting 5
            WaitBetweenSpawns 6
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Pyro
                WeaponRestrictions PrimaryOnly
                Item "The Dragon's Fury"
                ClassIcon pyro_dragon_fury
                MaxVisionRange 800
            }
        }
        WaveSpawn
        {
            Name 5_Banner
            TotalCurrency 50
            TotalCount 18
            SpawnCount 2
            WaitBeforeStarting 3
            WaitBetweenSpawns 6
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Scout
                ClassIcon scout_fan
                Skill Easy
                WeaponRestrictions PrimaryOnly
                Item "The Force-a-Nature"
            }
        }
        WaveSpawn
        {
            Name 5_Tank
            TotalCurrency 50
            TotalCount 1
            SpawnCount 1
            MaxActive 1
            WaitBeforeStarting 2
            WaitForAllDead 5_GGauntlet
            Tank
            {
                Health 45000
                Name "Tank"
                Speed 75
                StartingPathTrackNode "boss_path_a1"
                OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
                }
            }
        }
        WaveSpawn
        {
            Name 5_GGauntlet2
            TotalCurrency 50
            TotalCount 1
            SpawnCount 1
            MaxActive 1
            WaitBeforeStarting 2
            WaitForAllSpawned 5_Tank
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Heavyweapons
                Attributes MiniBoss
                Health 7200
                ClassIcon heavy_steelfist_nys_giant
                Item "War Head"
                Name "Giant Steel Gauntlet"
                Attributes AlwaysCrit
                Skill Expert
                tag bot_giant
                WeaponRestrictions MeleeOnly
                Item "Fists of Steel"
                ItemAttributes
                {
                    ItemName "tf_weapon_fists"
                    "damage bonus" 1.5
                    "heal on kill" 500
                }
                CharacterAttributes
                {
                    "move speed bonus"	0.5
                    "damage force reduction" 0.3
                    "airblast vulnerability multiplier" 0.3
                    "override footstep sound set" 2
                }
            }
        }
        WaveSpawn
        {
            Name 5_SScouts
            TotalCurrency 200
            TotalCount 3
            SpawnCount 1
            MaxActive 3
            WaitBeforeStarting 10
            WaitBetweenSpawns 8
            WaitForAllSpawned 5_Tank
            Where flankers_1
            Where flankers_2
            TFBot
            {
                Class Scout
                Name "Super Scout"
                ClassIcon scout_giant_fast
                Skill Easy
                Item "The Bolt Boy"
                Item "The Holy Mackerel"
                Health 1200
                WeaponRestrictions MeleeOnly
                Attributes MiniBoss
                CharacterAttributes
                {
                    "move speed bonus"	2
                    "damage force reduction" 0.7
                    "airblast vulnerability multiplier" 0.7
                    "override footstep sound set" 5
                }
                tag bot_giant
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot 				
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Scout"
                        Skill Normal
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Scout"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Scout"
                            "item style override" 1
                        }
                        Skill Normal
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 5_TankSupport
            TotalCurrency 100
            TotalCount 10
            SpawnCount 2
            MaxActive 10
            WaitBeforeStarting 6
            WaitBetweenSpawns 5
            WaitForAllSpawned 5_Tank
            Where flankers_1
			Where flankers_2
            Squad
            {
                TFBot
                {
                    Attributes AlwaysCrit
                    Class Soldier
                    Skill Normal
                }
                TFBot
                {
                    Template T_TFBot_quicky_Shield
                }
            }
        }
        WaveSpawn
        {
            Name 5_TankSupport2
            TotalCurrency 150
            TotalCount 20
            Support Limited
            MaxActive 8
            SpawnCount 3
            WaitBeforeStarting 8
            WaitBetweenSpawns 2
            WaitForAllSpawned 5_Tank
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Soldier
                WeaponRestrictions PrimaryOnly
            }
        }
        WaveSpawn
        {
            Name 5_GDemo
            TotalCurrency 250
            TotalCount 8
            MaxActive 4
            SpawnCount 4
            Where spawnbot_1
			Where spawnbot_2
            WaitBeforeStarting 10
            WaitBetweenSpawns 8
            WaitForAllSpawned 5_SScouts
            Squad
            {
                TFBot
                {
                    Attributes AlwaysCrit
                    tag bot_giant
                    Template T_TFBot_Giant_Demo_Burst
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name 5_Heavies
            TotalCurrency 50
            TotalCount 16
            MaxActive 16
            SpawnCount 2
            Where spawnbot_1
			Where spawnbot_2
            WaitBeforeStarting 4
            WaitBetweenSpawns 4
            WaitForAllDead 5_Tank
            TFBot
            {
                Class Heavyweapons
                Skill Normal
            }
        }
        WaveSpawn
        {
            Name 5_Boss
            TotalCurrency 200
            TotalCount 4
            MaxActive 2
            SpawnCount 2
            Where spawnbot_1
			Where spawnbot_2
            WaitBeforeStarting 4
            WaitBetweenSpawns 4
            WaitForAllDead 5_GDemo
            Squad
            {
                TFBot
                {
                    Attributes AlwaysCrit
                    tag bot_giant
                    Template T_TFBot_Giant_Soldier_Extended_Concheror
                }
                TFBot
                {
                    Template T_TFBot_quicky_Shield
                }
            }
        }
        WaveSpawn
        {
            Name 5_Support2
            TotalCurrency 0
            TotalCount 24
            MaxActive 4
            Where spawnbot_1
			Where spawnbot_2
            Support Limited
            SpawnCount 2
            WaitBeforeStarting 4
            WaitBetweenSpawns 3
            WaitForAllDead 5_GDemo
            TFBot
            {
                Template T_TFBot_Demo_Burst
            }
        }
        WaveSpawn
        {
            Name 5_Support
            TotalCurrency 0
            TotalCount 24
            MaxActive 4
            Where spawnbot_1
			Where spawnbot_2
            Support Limited
            SpawnCount 2
            WaitBeforeStarting 4
            WaitBetweenSpawns 4
            WaitForAllDead 5_GDemo
            TFBot
            {
                Class Demoman
                WeaponRestrictions PrimaryOnly
            }
        }
        WaveSpawn
        {
            Name 5_Support2 
            TotalCurrency 0
            TotalCount 38
            MaxActive 8
            Where flankers_1
			Where flankers_2
            Support 1
            SpawnCount 4
            WaitBeforeStarting 4
            WaitBetweenSpawns 6
            WaitForAllDead 5_Tank
            TFBot
            {
                Class Scout
                ClassIcon scout_bat_nys
                Attributes AlwaysCrit
                WeaponRestrictions MeleeOnly
            }

        }
    }
    Wave // Wave 6
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 7_GHeavy
            TotalCurrency 100
            TotalCount 14
            MaxActive 1
            SpawnCount 1
            Where spawnbot_1
			Where spawnbot_2
            WaitBetweenSpawns 6
            Squad
            {
                TFBot
                {
                    Class Heavyweapons
                    Name "Giant Deflector Heavy"
                    ClassIcon heavy_deflector
                    Skill Expert
                    Health 5000
                    Item "The U-clank-a"
                    Item "Deflector"
                    WeaponRestrictions PrimaryOnly
                    MaxVisionRange 1200
                    Attributes MiniBoss
                    tag bot_giant
                    ItemAttributes
                    {
                        ItemName "Deflector"
                        "damage bonus"	1.5 // copied from base mighty heavy
                        "attack projectiles" 1	// force ability to shoot down projectiles
                    }
                    CharacterAttributes
                    {
                        "move speed bonus"	0.5
                        "damage force reduction" 0.3
                        "airblast vulnerability multiplier" 0.3
                        "override footstep sound set" 2
                    }
                    EventChangeAttributes
                    {
                        Default
                        {
                            Tag bot_gatebot		
                            tag bot_giant		
                            Tag nav_prefer_gate1_flank		
                            BehaviorModifiers push			
                            Attributes IgnoreFlag 			

                            Item "MvM GateBot Light Heavy"
                            MaxVisionRange 1000
                        }
                        RevertGateBotsBehavior
                        {
                            Item "MvM GateBot Light Heavy"
                            ItemAttributes               
                            {
                                ItemName "MvM GateBot Light Heavy"
                                "item style override" 1
                            }
                            Skill Normal
                            MaxVisionRange 1000
                        }
                    }
                }
                TFBot
                {
                    Template T_TFBot_quicky_Shield_uber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name 7_HeavySupport
            TotalCurrency 100
            SpawnCount 4
            TotalCount 20
            MaxActive 12
            WaitBetweenSpawns 5
            WaitBeforeStarting 4
            Where flankers_1
			Where flankers_2
            TFBot
            {
                Template T_TFBot_Scout_Shortstop
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot 				
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Scout"
                        Skill Normal
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Scout"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Scout"
                            "item style override" 1
                        }
                        Skill Normal
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 7_Blasts
            TotalCount 16
            TotalCurrency 50
            MaxActive 12
            SpawnCount 2
            Where spawnbot_1
            Where spawnbot_2
            WaitBeforeStarting 3
            WaitBetweenSpawns 6
            TFBot
            {
                Template T_TFBot_Soldier_RocketPush
            }
        }
        WaveSpawn
        {
            Name 7_GBurst
            TotalCount 2
            TotalCurrency 50
            SpawnCount 1
            MaxActive 2
            Where spawnbot_1
			Where spawnbot_2
            WaitBetweenSpawns 10
            WaitBeforeStarting 1
            WaitForAllDead 7_GHeavy
            TFBot
            {
                Class Soldier
                Name "Giant Burst Fire Soldier"
                ClassIcon soldier_burstfire
                Item "The Shogun's Shoulder Guard"
                Health 3800
                Skill Expert
                WeaponRestrictions PrimaryOnly
                tag bot_giant
                Attributes MiniBoss
                Attributes HoldFireUntilFullReload
                ItemAttributes
                {
                    ItemName "TF_WEAPON_ROCKETLAUNCHER"
                    "move speed bonus"	0.5
                    "faster reload rate" 0.6
                    "fire rate bonus" 0.1
                    "clip size upgrade atomic" 5.0
                    "Projectile speed increased" 0.65
                }
                CharacterAttributes
                {
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
			    }
                Attributes AlwaysCrit
                EventChangeAttributes
                {
                    Default
                    {
                        Tag bot_gatebot
                        Tag bot_giant			
                        Tag nav_prefer_gate1_flank		
                        BehaviorModifiers push			
                        Attributes IgnoreFlag 			

                        Item "MvM GateBot Light Soldier"
                        MaxVisionRange 1000
                    }
                    RevertGateBotsBehavior
                    {
                        Item "MvM GateBot Light Soldier"
                        ItemAttributes               
                        {
                            ItemName "MvM GateBot Light Soldier"
                            "item style override" 1
                        }
                        Skill Expert
                        MaxVisionRange 1000
                    }
                }
            }
        }
        WaveSpawn
        {
            Name 7_Pyros
            TotalCurrency 100
            TotalCount 24
            WaitBetweenSpawns 5
            MaxActive 8
            WaitBeforeStarting 4
            Where spawnbot_1
			Where spawnbot_2
            SpawnCount 2
            WaitForAllDead 7_GHeavy
            TFBot
            {
                Class Pyro
                Attributes AlwaysCrit
                Skill Expert
            }
        }
        WaveSpawn
        {
            Name 7_Demos
            WaitForAllDead 7_GHeavy
            TotalCurrency 100
            TotalCount 28
            WaitBetweenSpawns 4
            MaxActive 6
            WaitBeforeStarting 3
            Where flankers_1
			Where flankers_2
            SpawnCount 3
            TFBot
            {
                Class Demoman
                Skill Hard
            }
        }
        WaveSpawn
        {
            Name 7_GPyro
            TotalCount 8
            WaitForAllSpawned 7_GBurst
            TotalCurrency 100
            SpawnCount 1
            MaxActive 8
            WaitBeforeStarting 20
            WaitBetweenSpawns 8
            Where spawnbot_1
			Where spawnbot_2
            Squad
            {
                TFBot
                {
                    Template T_TFBot_Giant_Pyro
                    Skill Expert
                    ItemAttributes
                    {
                        ItemName	"tf_weapon_flamethrower"
                        "airblast_destroy_projectile" 1
                    }
                    tag bot_giant
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
                TFBot
                {
                    Template T_TFBot_Medic_QuickUber
                }
            }
        }
        WaveSpawn
        {
            Name 7_GSupport
            TotalCount 16
            TotalCurrency 50
            SpawnCount 4
            MaxActive 8
            WaitForAllDead 7_GBurst
            WaitBeforeStarting 4
            WaitBetweenSpawns 4
            Where flankers_1
			Where flankers_2
            TFBot
            {
                Template T_TFBot_Direct_Hit
            }
        }
        WaveSpawn
        {
            Name 7_FoS
            TotalCount 6
            TotalCurrency 50
            SpawnCount 1
            MaxActive 4
            WaitBeforeStarting 3
            WaitBetweenSpawns 8
            WaitForAllDead 7_GBurst
            Where spawnbot_1
            Where spawnbot_2
            TFBot
            {
                Template T_TFBot_Heavyweapons_Fist
            }
        }
        WaveSpawn
        {
            Name 7_GFinal
            TotalCount 3
            SpawnCount 1
            WaitForAllSpawned 7_GPyro
            WaitBeforeStarting 18
            WaitBetweenSpawns 18
            MaxActive 3
            TotalCurrency 50
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Soldier
                Attributes AlwaysCrit
                Name "Giant Battalion Soldier"
                ClassIcon soldier_backup_spammer_giant
                Skill Expert
                Health 3800
                WeaponRestrictions PrimaryOnly
                Attributes HoldFireUntilFullReload
                Attributes MiniBoss
                Attributes SpawnWithFullCharge
                Item "The Battalion's Backup"
                tag bot_giant
                ItemAttributes
                {
                    ItemName "TF_WEAPON_ROCKETLAUNCHER"
                    "faster reload rate" -0.8
                    "fire rate bonus" 0.5

                }
                CharacterAttributes
                {
                    "move speed bonus"	0.5
                    "damage force reduction" 0.4
                    "airblast vulnerability multiplier" 0.4
                    "override footstep sound set" 3
                    "increase buff duration"	9.0
                    "Projectile speed increased" 0.65
                }
            }
        }
        WaveSpawn
        {
            Name 7_Tank
            TotalCurrency 50
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitForAllDead 7_GPyro
            WaitBeforeStarting 5
            Tank
            {
                Health 50000
                Name "Tank"
                Speed 75
                StartingPathTrackNode "boss_path_a1"
                OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
                }
            }

        }
        WaveSpawn
        {
            Name 7_GSupport1
            TotalCount 12
            SpawnCount 2
            WaitForAllDead 7_GPyro
            WaitBetweenSpawns 5
            MaxActive 6
            TotalCurrency 0
            Support 1
            Where spawnbot_1
			Where spawnbot_2
            TFBot
            {
                Class Heavyweapons
                Skill Normal
            }
        }
        WaveSpawn
        {
            Name 7_GSupport2
            TotalCount 12
            SpawnCount 4
            WaitForAllDead 7_GPyro
            WaitBetweenSpawns 4
            MaxActive 8
            Support 1
            TotalCurrency 0
            Where flankers_1
			Where flankers_2
            TFBot
            {
                Class Scout
                Skill Easy
            }
        }
    }
    Wave // Wave 7
    {
        WaitWhenDone 65
        Checkpoint Yes
        StartWaveOutput
        {
            Target wave_start_relay
            Action Trigger
        }
        DoneOutput
        {
            Target wave_finished_relay
            Action Trigger
        }
        WaveSpawn
        {
            Name 6_Tank
            TotalCurrency 200
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            WaitBeforeStarting 2
            Tank
            {
                Health 75000
                Name "Tank"
                Skin 1
                Speed 75
                StartingPathTrackNode "boss_path_a1"
                OnKilledOutput
				{
					Target	boss_dead_relay
					Action	Trigger
				}
				OnBombDroppedOutput
				{
					Target	boss_deploy_relay
					Action	Trigger
                }
            }
        }
        WaveSpawn
        {
            Name 6_GiantsSupport
            TotalCurrency 200
            TotalCount 4
            MaxActive 2
            SpawnCount 1
            Where spawnbot_1
            Where spawnbot_2
            WaitForAllSpawned 6_Tank
            WaitBetweenSpawns 18
            TFBot
            {
                Template T_TFBot_Giant_Soldier_Spammer
                tag bot_giant
            }
        }
        WaveSpawn
        {
            Name 6_Boss
            TotalCurrency 1200
            TotalCount 1
            MaxActive 1
            SpawnCount 1
            Where spawnbot_1
			Where spawnbot_2
            WaitBeforeStarting 1
            WaitForAllDead 6_Tank
            TFBot
            {
                Template T_TFBot_Chief_Captain
                tag bot_giant
            }
        }
        WaveSpawn
        {
            Name 6_TankSupport
            TotalCurrency 50
            TotalCount 48
            MaxActive 4
            Support Limited
            SpawnCount 2
            Where spawnbot_1
			Where spawnbot_2
            WaitForAllSpawned 6_Tank
            WaitBetweenSpawns 3
            TFBot
            {
                Attributes AlwaysCrit
                Template T_TFBot_Sniper_Huntsman
            }
        }
        WaveSpawn
        {
            Name 6_TankSupport3
            TotalCurrency 50
            TotalCount 36
            MaxActive 4
            Support Limited
            SpawnCount 2
            Where spawnbot_1
			Where spawnbot_2
            WaitForAllSpawned 6_Tank
            WaitBetweenSpawns 3
            TFBot
            {
                Template T_TFBot_Demo_Burst
            }
        }
        WaveSpawn
        {
            Name 6_TankSupport2
            TotalCurrency 50
            TotalCount 32
            MaxActive 4
            Support Limited
            SpawnCount 2
            Where spawnbot_1
			Where spawnbot_2
            WaitForAllSpawned 6_Tank
            WaitBetweenSpawns 4
            TFBot
            {
                Template T_TFBot_Soldier_Extended_Concheror
            }
        }
        WaveSpawn
        {
            Name 6_Support
            TotalCurrency 0
            TotalCount 12
            Support 1
            MaxActive 6
            SpawnCount 3
            Where flankers_1
			Where flankers_2
            WaitForAllSpawned 6_Boss
            WaitBetweenSpawns 3
            WaitBeforeStarting 8
            TFBot
            {
                Template T_TFBot_Pyro_Flaregun
            }
        }
        WaveSpawn
        {
            Name 6_Support2
            TotalCurrency 0
            TotalCount 12
            Support 1
            MaxActive 2
            SpawnCount 1
            Where spawnbot_1
			Where spawnbot_2
            WaitForAllSpawned 6_Boss
            WaitBetweenSpawns 6
            WaitBeforeStarting 8
            TFBot
            {
                Template T_TFBot_Soldier_Extended_Buff_Banner
            }
        }
    }
}